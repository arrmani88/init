#! bin/bash
function dn()
{
	clear
	printf "\033[1;32m
	      :::::::::
	     :+:    :+:
	    +:+    +:+
	   +#+    +:+
	  +#+    +#+
	 #+#    #+#
	#########"
	sleep 0.04 ; clear
	printf "
	      :::::::::          ::::::::
	     :+:    :+:        :+:    :+:
	    +:+    +:+        +:+    +:+
	   +#+    +:+        +#+    +:+
	  +#+    +#+        +#+    +#+
	 #+#    #+#        #+#    #+#
	#########          ########"
	sleep 0.04 ; clear
	printf "
	      :::::::::          ::::::::          ::::    :::
	     :+:    :+:        :+:    :+:         :+:+:   :+:
	    +:+    +:+        +:+    +:+         :+:+:+  +:+
	   +#+    +:+        +#+    +:+         +#+ +:+ +#+
	  +#+    +#+        +#+    +#+         +#+  +#+#+#
	 #+#    #+#        #+#    #+#         #+#   #+#+#
	#########          ########          ###    ####"
	sleep 0.04 ; clear
	printf "
	      :::::::::          ::::::::          ::::    :::          ::::::::::
	     :+:    :+:        :+:    :+:         :+:+:   :+:          :+:
	    +:+    +:+        +:+    +:+         :+:+:+  +:+          +:+
	   +#+    +:+        +#+    +:+         +#+ +:+ +#+          +#++:++#
	  +#+    +#+        +#+    +#+         +#+  +#+#+#          +#+
	 #+#    #+#        #+#    #+#         #+#   #+#+#          #+#
	#########          ########          ###    ####          ##########"
	sleep 0.04 ; clear
	printf "
	      :::::::::          ::::::::          ::::    :::          ::::::::::
	     :+:    :+:        :+:    :+:         :+:+:   :+:          :+:
	    +:+    +:+        +:+    +:+         :+:+:+  +:+          +:+
	   +#+    +:+        +#+    +:+         +#+ +:+ +#+          +#++:++#          +#+
	  +#+    +#+        +#+    +#+         +#+  +#+#+#          +#+
	 #+#    #+#        #+#    #+#         #+#   #+#+#          #+#  
	#########          ########          ###    ####          ##########"
	sleep 0.04 ; clear
	printf "
	      :::::::::          ::::::::          ::::    :::          ::::::::::
	     :+:    :+:        :+:    :+:         :+:+:   :+:          :+:
	    +:+    +:+        +:+    +:+         :+:+:+  +:+          +:+
	   +#+    +:+        +#+    +:+         +#+ +:+ +#+          +#++:++#          +#+
	  +#+    +#+        +#+    +#+         +#+  +#+#+#          +#+                 +#+
	 #+#    #+#        #+#    #+#         #+#   #+#+#          #+# 
	#########          ########          ###    ####          ##########"
	sleep 0.04 ; clear
	printf "
	      :::::::::          ::::::::          ::::    :::          ::::::::::
	     :+:    :+:        :+:    :+:         :+:+:   :+:          :+:
	    +:+    +:+        +:+    +:+         :+:+:+  +:+          +:+
	   +#+    +:+        +#+    +:+         +#+ +:+ +#+          +#++:++#          +#+
	  +#+    +#+        +#+    +#+         +#+  +#+#+#          +#+                 +#+
	 #+#    #+#        #+#    #+#         #+#   #+#+#          #+#                   #+#
	#########          ########          ###    ####          ##########"
	sleep 0.04 ; clear
	printf "
	      :::::::::          ::::::::          ::::    :::          ::::::::::
	     :+:    :+:        :+:    :+:         :+:+:   :+:          :+:
	    +:+    +:+        +:+    +:+         :+:+:+  +:+          +:+
	   +#+    +:+        +#+    +:+         +#+ +:+ +#+          +#++:++#          +#+
	  +#+    +#+        +#+    +#+         +#+  +#+#+#          +#+                 +#+
	 #+#    #+#        #+#    #+#         #+#   #+#+#          #+#                   #+#
	#########          ########          ###    ####          ##########              ###"
	sleep 0.04 ; clear
	printf "
	      :::::::::          ::::::::          ::::    :::          ::::::::::
	     :+:    :+:        :+:    :+:         :+:+:   :+:          :+:
	    +:+    +:+        +:+    +:+         :+:+:+  +:+          +:+
	   +#+    +:+        +#+    +:+         +#+ +:+ +#+          +#++:++#          +#+
	  +#+    +#+        +#+    +#+         +#+  +#+#+#          +#+                 +#+
	 #+#    #+#        #+#    #+#         #+#   #+#+#          #+#                   #+#+#+#    
	#########          ########          ###    ####          ##########              ###"
	sleep 0.04 ; clear
	printf "
	      :::::::::          ::::::::          ::::    :::          ::::::::::
	     :+:    :+:        :+:    :+:         :+:+:   :+:          :+:
	    +:+    +:+        +:+    +:+         :+:+:+  +:+          +:+
	   +#+    +:+        +#+    +:+         +#+ +:+ +#+          +#++:++#          +#+
	  +#+    +#+        +#+    +#+         +#+  +#+#+#          +#+                 +#+    +#+ 
	 #+#    #+#        #+#    #+#         #+#   #+#+#          #+#                   #+#+#+#    
	#########          ########          ###    ####          ##########              ###"
	sleep 0.04 ; clear
	printf "
	      :::::::::          ::::::::          ::::    :::          ::::::::::
	     :+:    :+:        :+:    :+:         :+:+:   :+:          :+:
	    +:+    +:+        +:+    +:+         :+:+:+  +:+          +:+
	   +#+    +:+        +#+    +:+         +#+ +:+ +#+          +#++:++#          +#+        +:+
	  +#+    +#+        +#+    +#+         +#+  +#+#+#          +#+                 +#+    +#+ 
	 #+#    #+#        #+#    #+#         #+#   #+#+#          #+#                   #+#+#+#    
	#########          ########          ###    ####          ##########              ###"
	sleep 0.04 ; clear
	printf "
	      :::::::::          ::::::::          ::::    :::          ::::::::::
	     :+:    :+:        :+:    :+:         :+:+:   :+:          :+:
	    +:+    +:+        +:+    +:+         :+:+:+  +:+          +p:+                            +:+
	   +#+    +:+        +#+    +:+         +#+ +:+ +#+          +#++:++#          +#+        +:+
	  +#+    +#+        +#+    +#+         +#+  +#+#+#          +#+                 +#+    +#+ 
	 #+#    #+#        #+#    #+#         #+#   #+#+#          #+#                   #+#+#+#    
	#########          ########          ###    ####          ##########              ###"
	sleep 0.04 ; clear
	printf "
	      :::::::::          ::::::::          ::::    :::          ::::::::::
	     :+:    :+:        :+:    :+:         :+:+:   :+:          :+:                              :+:
	    +:+    +:+        +:+    +:+         :+:+:+  +:+          +:+                            +:+
	   +#+    +:+        +#+    +:+         +#+ +:+ +#+          +#++:++#          +#+        +:+
	  +#+    +#+        +#+    +#+         +#+  +#+#+#          +#+                 +#+    +#+ 
	 #+#    #+#        #+#    #+#         #+#   #+#+#          #+#                   #+#+#+#    
	#########          ########          ###    ####          ##########              ###"
	sleep 0.04 ; clear
	printf "
	      :::::::::          ::::::::          ::::    :::          ::::::::::                         ::: 
	     :+:    :+:        :+:    :+:         :+:+:   :+:          :+:                              :+:
	    +:+    +:+        +:+    +:+         :+:+:+  +:+          +:+                            +:+
	   +#+    +:+        +#+    +:+         +#+ +:+ +#+          +#++:++#          +#+        +:+
	  +#+    +#+        +#+    +#+         +#+  +#+#+#          +#+                 +#+    +#+ 
	 #+#    #+#        #+#    #+#         #+#   #+#+#          #+#                   #+#+#+#    
	#########          ########          ###    ####          ##########              ###\033[0m"
	sleep 0.04 ; clear
}
function displayhdr()
{
	clear
	printf "\033[1;32m#*******************************************************************************************************#\n"
	printf "#                                                                                                       #\n"
	printf "#          :::     ::::::::          ::::::::   ::::::::  :::::::::  ::::::::::: ::::::::: :::::::::::  #\n"
	printf "#        :+:     :+:    :+:        :+:    :+: :+:    :+: :+:    :+:     :+:     :+:    :+:    :+:       #\n"
	printf "#      +:+ +:+        +:+         +:+        +:+        +:+    +:+     +:+     +:+    +:+    +:+        #\n"
	printf "#    +#+  +:+      +#+           +#++:++#++ +#+        +#++:++#:      +#+     +#++:++#+     +#+         #\n"
	printf "#  +#+#+#+#+#+  +#+                    +#+ +#+        +#+    +#+     +#+     +#+           +#+          #\n"
	printf "#       #+#   #+#              #+#    #+# #+#    #+# #+#    #+#     #+#     #+#           #+#           #\n"
	printf "#      ###  ##########         ########   ########  ###    ### ########### ###           ###            #\n"
	printf "#                                                                                       by: anel-bou    #\n"
	printf "#*******************************************************************************************************#\033[0m\n"
}

displayhdr
printf "Password required, you have 3 retries:"
read -s mdp
for (( n=2; n>=0 ; n-- ))
do
	if [ $n == 0 ]
	then
		printf "\nSorry, you have reached the mximum number of retries\n"
		exit 0
	fi
	if [[ $mdp != 42 ]]
	then
		printf "\n\x1B[1;31mWrong password, you have only $n retries:\033[0m  "
		read -s mdp
	fi
	if [[ $mdp == 42 ]]
	then
		dn
		break
	fi
done
function menu()
{
	displayhdr
	printf "\t<~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~>\n"
	printf "\t<                                            >\n"
	printf "\t<  	1: Update system                     >\n"
	printf "\t<  	2: Upgrade system                    >\n"
	printf "\t<  	3: Install ssh                       >\n"
	printf "\t<  	4: Connect to ssh                    >\n"
	printf "\t<  	5: Test internet speed               >\n"
	printf "\t<  	6: Add a new session with password   >\n"
	printf "\t<  	7: Clear cache        		     >\n"
	printf "\t<  	8: Exit 			     >\n"
	printf "\t<                         		     >\n"
	printf "\t<~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~>\n"	
	printf "\n\t\tchoose a service by taping a number : "
	read c;
	displayhdr
	if [[ $c == 1 ]]
	then
		sudo apt update
		dn
		menu
		exit 0
	elif [[ $c == 2 ]]
	then
		sudo apt upgrade
		dn
		menu
		exit 0
	elif [[ $c == 3 ]]
	then
		sudo apt install ssh
		dn
		menu
		exit 0
	elif [[ $c == 4 ]]
	then
		printf "\n\ttype your username: "
		read usrn
		printf "\n\ttype your ip adress: "
		read ipa
		sudo rm /root/.ssh/known_hosts &>-
		sudo ssh $usrn@$ipa
		menu
		exit 0
	elif [[ $c == 5 ]]
	then
		curl https://raw.githubusercontent.com/sivel/speedtest-cli/master/speedtest.py | python
		read -p "Press enter to continue ..."
		menu
		exit 0
	elif [[ $c == 6 ]]
	then
		printf "Type a new username : "
		read un
		sudo adduser $un
		dn
		menu
		exit 0
	elif [[ $c == 7 ]]
	then
		sudo sync; echo 3 > /proc/sys/vm/drop_caches
		dn
		menu
		exit 0
	 elif [[ $c == 8 ]]
	 then
		 	clear
			exit 0
	 else
		read -p "Wrong input, please retry with a valid input, press enter to continue..."
		menu
		exit 0
	fi
}
menu
exit 0
